---
import { Image } from 'astro:assets'

import RoleIcon from '@/components/RoleIcon.astro'
import Span from '@/components/Span.vue'
import MechanicSection from '@/components/section/MechanicSection.astro'
import SolutionSection from '@/components/section/SolutionSection.astro'
import NoteSection from '@/components/section/NoteSection.astro'
import ImgRow from '@/components/typography/ImgRow.astro'

import Zelenia from '../_components/Zelenia.astro'

import ga from '@/assets/07/zelenia/P3-2/P3-2-ga.png'
import ya from '@/assets/07/zelenia/P3-2/P3-2-ya.png'
import ga2 from '@/assets/07/zelenia/P3-2/P3-2-ga-2.png'
import ya2 from '@/assets/07/zelenia/P3-2/P3-2-ya-2.png'
import j from '@/assets/07/zelenia/P3-2/P3-2-j.png'

import j1 from '@/assets/07/zelenia/P3-2/P2-j1.png'
import j2 from '@/assets/07/zelenia/P3-2/P2-j2.png'
import j3 from '@/assets/07/zelenia/P3-2/P2-j3.png'
import moon from '@/assets/07/zelenia/P3-2/P2-j-moon.png'
import steel from '@/assets/07/zelenia/P3-2/P2-j-steel.png'
---

<MechanicSection>
  <div class="flex flex-col gap-4">
    <!-- <div class="max-w-88 flex-1">
      <Image src={img} alt="" class="rounded border-2 border-fuchsia-400 dark:border-fuchsia-100" />
    </div>

    <div class="flex-2 space-y-4 rounded-md border border-dashed p-4"> -->
    <div class="paragraph">
      <Zelenia />读条<Span variant="blue">钢铁</Span>+<Span variant="yellow">月环</Span>
      或
      <Span variant="yellow">月环</Span>+<Span variant="blue">钢铁</Span>，会引爆<Span variant="pink">红色地板</Span>
    </div>
    <div class="paragraph">同时按顺序施放三组扇形刀，不会引爆红色地板</div>
    <ImgRow
      class="game-img"
      wrapperClass="max-w-60"
      borderVariant="cyan"
      rounded
      imgs={[
        {
          src: j1,
          alt: 'Zelenia：P3-2 第一组扇形刀',
          title: '第一组扇形刀',
        },
        {
          src: j2,
          alt: 'Zelenia：P3-2 第二组扇形刀',
          title: '第二组扇形刀',
        },
        {
          src: j3,
          alt: 'Zelenia：P3-2 第三组扇形刀',
          title: '第三组扇形刀',
        },
      ]}
    />
    <ImgRow
      class="game-img"
      wrapperClass="max-w-60"
      borderVariant="cyan"
      rounded
      imgs={[
        {
          src: steel,
          alt: 'Zelenia：P3-2 钢铁范围',
          title: '钢铁范围',
        },
        {
          src: moon,
          alt: 'Zelenia：P3-2 月环范围',
          title: '月环范围',
        },
      ]}
    />
    <!-- </div> -->
  </div>
</MechanicSection>
<SolutionSection>
  <div class="flex flex-col gap-6">
    <div class="flex gap-4">
      <ImgRow
        class="game-img"
        wrapperClass="max-w-60"
        borderVariant="cyan"
        rounded
        imgs={[
          {
            src: ga,
            alt: 'Zelenia：P3-2 先钢铁',
            title: '先钢铁',
          },
          {
            src: ya,
            alt: 'Zelenia：P3-2 先月环',
            title: '先月环',
          },
        ]}
      />
      <!-- <div class="max-w-88 flex-1">
        <Image src={ga} alt="" class="rounded border-2 border-fuchsia-400 dark:border-fuchsia-100" />
      </div>
      <div class="max-w-88 flex-1">
        <Image src={ya} alt="" class="rounded border-2 border-fuchsia-400 dark:border-fuchsia-100" />
      </div> -->
      <div class="flex-2 space-y-4 rounded-md border border-dashed p-4">
        <div class="paragraph">
          <Span variant="yellow">Step 1</Span>
          观察先钢铁/先月环
        </div>
        <div class="paragraph">
          <RoleIcon role="all" tag="全员" />在只有一块暗色地板处集合
        </div>
      </div>
    </div>
    <div class="flex gap-4">
      <ImgRow
        class="game-img"
        wrapperClass="max-w-60"
        borderVariant="cyan"
        rounded
        imgs={[
          {
            src: ga2,
            alt: 'Zelenia：P3-2 先钢铁',
            title: '先钢铁',
          },
          {
            src: ya2,
            alt: 'Zelenia：P3-2 先月环',
            title: '先月环',
          },
        ]}
      />
      <!-- <div class="max-w-88 flex-1">
        <Image src={ga2} alt="" class="rounded border-2 border-fuchsia-400 dark:border-fuchsia-100" />
      </div>
      <div class="max-w-88 flex-1">
        <Image src={ya2} alt="" class="rounded border-2 border-fuchsia-400 dark:border-fuchsia-100" />
      </div> -->
      <div class="flex-2 space-y-4 rounded-md border border-dashed p-4">
        <div class="paragraph">
          <Span variant="orange">Step 2</Span>
          钢铁/月环判定，穿内外，到第三组刀区域
        </div>
        <div class="paragraph">
          <Span variant="green">Step 3</Span>
          第二组刀判定，到第二组刀区域
        </div>
      </div>
    </div>
  </div>
</SolutionSection>
<NoteSection>
  <div class="flex gap-4">
    <div class="max-w-88 flex-1">
      <ImgRow
        class="game-img"
        wrapperClass="max-w-88"
        borderVariant="cyan"
        rounded
        imgs={[
          {
            src: j,
            alt: 'Zelenia：P3-2 说明',
            // title: '先钢铁',
          },
        ]}
      />
    </div>
    <div class="flex-2 space-y-4 rounded-md border border-dashed p-4">
      <div class="paragraph">如图所示，因为各刀之间有先后顺序，所以使用1~6进行标注，此处的x刀不同于上文</div>
      <div class="paragraph">以钢铁+月环为例子，解释为何最好前往4外（单块灰地板）而不是3+5外</div>
      <div class="paragraph">
        首先，劈砍和钢铁月环的判定顺序如下：<Span variant="blue">1+钢铁</Span>→2→3→<Span variant="blue">4+月环</Span
        >→5→6
      </div>

      <div class="paragraph">
        <Span variant="yellow">4外起点</Span>
      </div>

      <div class="paragraph">
        躲避顺序：4外→<Span variant="blue">1钢铁判定</Span>→6内→<Span variant="blue">4刀+月环判定</Span>→4
      </div>
      <div class="paragraph">最后是从6区域穿到4区域，等4刀判定完就可穿，有两个间隔时间（2s）</div>

      <div class="paragraph">
        <Span variant="yellow">3&5外起点</Span>
      </div>

      <div class="paragraph">
        躲避顺序：3&5外→<Span variant="blue">1钢铁判定</Span>→5内→3刀判定→<Span variant="blue">4刀+月环判定</Span>→3
      </div>
      <div class="paragraph">
        最后是从5区域穿到3区域，等3刀判定后，还要等4刀+月环判定才可穿，只有一个间隔时间（1s），高延迟选手慎选！
      </div>
    </div>
  </div>
</NoteSection>
